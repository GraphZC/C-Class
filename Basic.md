# C Programming Part 1 - 1

By Tanaroeg  O-Charoen

## Let's start

สำหรับการเขียนโปรแกรมคือการนำชุดคำสั่งมารวมกันกลายเป็นโปรแกรม โดย จุดยากของการ Program นั้นก็คือการคิด **Algorithm** การที่มี Algorithm ที่ดีจะช่วยให้เราเขียนโปรแกรมที่ดีถูกต้องและทำงานรวดเร็ว  

ก่อนที่เราเริ่มเขียนโปรแกรมเราจำเป็นที่จะต้องคิก่อนที่จะเขียนว่าเราจะทำอะไรก่อนอะไรหลัง หรือขั้นตอนเป็นยังไง โดยจะมีวิธีที่ง่ายที่สุดในการคิดคือ การวาดรูป วาดแผนภาพ หรือ ความสัมพันธ์ จะช่วยให้เรามองเห็นภาพของโปรแกรมของเราง่ายขึ้น โดยเราอาจจะวาดในรูปแบบของเรากก็ได้  

**ตัวอย่างการคิด**  
เขียนโปรแกรมคิดค่าจอดรถ ถ้าจอด ไม่เกิน 2 ชม.ฟรีค่าจอด หลังจากนั้นจะคิด ชม.ละ 10 บาท แต่ถ้าจอดเกิน 10 ชม.จะเป็นการเหมาจ่าย 100 บาท หรือถ้าเป็นพนักงานในห้างจะจอดฟรี

![Parking](https://iamgraph.tk/img-md/C-Learning/Ex1-1-DrawParking.png)

## C Language?

**ภาษา C** เป็นภาษาที่เขียนในรูปแบบ Procedural paradigm เป็นภาษาโปรแกรมมิ่งที่อยู่ในระดับต่ำ (Low level) คือ เป็นภาษาที่ทำงานได้ลงลึก Hardware ซึ่งทำให้การทำงานของโปรแกรมค่อนข้างที่จะเร็วเมื่อเทียบกับภาษาอื่น แต่การเขียนก็จะค่อนค่างที่จะละเอียดกว่าภาษาอื่นๆ ส่วนใหญ่จะใช้ในการเขียน ระบบปฎิบัติการ (OS), Driver, หุ่นยนต์, IOT จะสังเกตว่าส่วนใหญ่จะใช้กับโปรแกรมที่ต้องติดต่อกับ Hardware ซะส่วนใหญ่ (แต่ก็มีการนำมาสร้างโปรแกรม แอปพลิเคชันเหมือนกัน) โดยการ Compile จะเป็นการ Compile แบบ One pass คือจะแปรครั้งเดียวจากบนลงล่าง

## Basic C

ในการเขียนภาษา C นั้นจะเราจะต้องนิยาม main function ขึ้นมา (เป็นฟังก์ชั่นแรกที่ OS จะทำการเรียกเมื่อโปรแกรมทำงาน)

```c
int main() {

}
```

*int คือ return type*
จากนั้นเราจะเพิ่มการแสดงผลข้อความลงไปโดยจะเรียกใช้ function ```printf()```

```c
int main() {
    printf("Hello World");
}
```

ในการ Compile เราจะใช้คำสั่ง

```bash
gcc FileName
```

โดยเราจะได้ไฟล์ a.out หรือ a.exe มา ในการรันเราจะใช้

```bash
./Filename.out
หรือ
./Filename.exe
```

แต่ถ้าหากเราอยาก compile ออกมาแล้วมีชื่อตามที่เราต้องการเราจะใช้ option ```-o Filename``` เช่น

```bash
gcc hello.c -o hello.exe
```

ถ้าหากเรานำชุดคำสั่งก่อนหน้าไปทำการคอมไพล์ จะขึ้น warning

```bash
test.c: In function ‘main’:
test.c:2:5: warning: implicit declaration of function ‘printf’ [-Wimplicit-function-declaration]
    2 |     printf("Hello World");
      |     ^~~~~~
test.c:2:5: warning: incompatible implicit declaration of built-in function ‘printf’
test.c:1:1: note: include ‘<stdio.h>’ or provide a declaration of ‘printf’
  +++ |+#include <stdio.h>
    1 | int main() {
```

ซึ่งหมายความว่าโปรแกรมของเรานั้นยังไม่รู้จักคำสั่ง ```printf()``` แต่ถ้าเราสั่งรันไฟล์ก็สามารถก็สามารถรันได้เพราะเป็น warning (แต่ในบางกรณีการมี warning อาจจะทำให้โปรแกรมเราทำงานผิดพลาดได้ ดังนั้นควรแก้ warning ก่อนทุกครั้ง) การแก้ไขก็คือให้เราทำการ ```#include <stdio.h>``` เข้าไปที่หัวของไฟล์เรา

```c
#include <stdio.h>

int main() {
    printf("Hello World");
}
```

จะสั่งเกตได้ว่าโปรแกรมของเราไม่มี warning ขึ้นแล้ว และทำงานได้อย่างถูกต้อง

```txt
Hello World
```

### Compiler Directive

Compiler Directive เป็นคำสั่งที่ใช้สั่งในการคอมไพล์ Code โดย Compiler จะทำในส่วนนี้ก่อนที่จะทำการแปร Code หลักของเรา โดยจะอยู่ข้างบนสุดของไฟล์

`#include {path}` เป็นการนำไฟล์อื่นๆมาใส่ในไฟล์ของเรา
`#define {name} {value}` เป็นการกำหนดค่าคงที่ซึ่งปกติเราจะใช้ตัวพิมพ์ใหญ่ในการตั้งชื่อ
